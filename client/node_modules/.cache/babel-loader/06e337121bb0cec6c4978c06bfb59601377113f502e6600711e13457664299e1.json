{"ast":null,"code":"var _jsxFileName = \"/Users/mlee/my-app/client/src/Components/HomePage/HomePage.js\";\nimport React from \"react\";\nimport Header from \"../Header/Header\";\nimport HomePageMain from \"../HomePageMain/HomePageMain\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\nclass HomePage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.setMainVideo = mainVideoId => {\n      axios.get(API_URL + \"/videos/\" + mainVideoId).then(result => {\n        this.setState({\n          mainVideo: result.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    this.handleCommentSubmit = event => {\n      event.preventDefault();\n      let newComment = {\n        name: \"BrainStation\",\n        comment: event.target.comment.value\n      };\n      event.target.reset();\n      axios.post(API_URL + \"/videos/\" + this.state.mainVideo.id + \"/comments\", newComment).then(response => {\n        axios.get(API_URL + \"/videos/\" + this.state.mainVideo.id).then(response => {\n          this.setState({\n            mainVideo: response.data\n          });\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    this.state = {\n      sideVideos: [],\n      mainVideo: {\n        comments: []\n      }\n    };\n  }\n  componentDidMount() {\n    let videoId = this.props.match.params.id;\n    axios.get(API_URL + \"/videos\").then(result => {\n      let eachVideo = result.data;\n      this.setState({\n        sideVideos: eachVideo\n      });\n      if (!videoId) {\n        const firstVideo = eachVideo[0].id;\n        videoId = firstVideo;\n      }\n      this.setMainVideo(videoId);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  componentDidUpdate(prevProps) {\n    let videoId = this.props.match.params.id;\n    let updateVideoId = this.state.sideVideos[0].id;\n    if (prevProps.match.params.id !== videoId) {\n      if (!videoId) {\n        videoId = updateVideoId;\n      }\n      this.setMainVideo(videoId);\n      window.scrollTo(0, 0);\n    }\n  }\n  render() {\n    let otherVideos = this.state.sideVideos.filter(video => video.id !== this.state.mainVideo.id);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(HomePageMain, {\n        mainVideo: this.state.mainVideo,\n        sideVideos: otherVideos,\n        handleCommentSubmit: this.handleCommentSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default HomePage;","map":{"version":3,"names":["React","Header","HomePageMain","axios","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","HomePage","Component","constructor","args","setMainVideo","mainVideoId","get","then","result","setState","mainVideo","data","catch","err","console","log","handleCommentSubmit","event","preventDefault","newComment","name","comment","target","value","reset","post","state","id","response","sideVideos","comments","componentDidMount","videoId","props","match","params","eachVideo","firstVideo","componentDidUpdate","prevProps","updateVideoId","window","scrollTo","render","otherVideos","filter","video","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/mlee/my-app/client/src/Components/HomePage/HomePage.js"],"sourcesContent":["import React from \"react\";\nimport Header from \"../Header/Header\";\nimport HomePageMain from \"../HomePageMain/HomePageMain\";\nimport axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nclass HomePage extends React.Component {\n\n    setMainVideo = (mainVideoId) => {\n        axios\n            .get(API_URL + \"/videos/\" + mainVideoId)\n            .then(result => {\n                this.setState({\n                    mainVideo: result.data\n                })\n            })\n            .catch (err => {\n                console.log(err);\n            });\n    }\n\n    handleCommentSubmit = (event) => {\n        event.preventDefault();\n        let newComment = {\n            name: \"BrainStation\",\n            comment: event.target.comment.value\n        };\n        event.target.reset();\n\n        axios\n            .post(API_URL + \"/videos/\" + this.state.mainVideo.id + \"/comments\",\n                newComment)\n            .then(response => {\n                axios\n                    .get(API_URL + \"/videos/\" + this.state.mainVideo.id)\n                    .then(response => {\n                        this.setState({\n                            mainVideo: response.data\n                        })\n                    })\n            })\n            .catch (err => {\n                console.log(err);\n            });\n    }\n\n    state = {\n        sideVideos: [],\n        mainVideo: {\n            comments: []\n        }\n    }\n\n    componentDidMount() {\n        let videoId = this.props.match.params.id;\n\n        axios\n            .get(API_URL+\"/videos\")\n            .then(result => {\n                let eachVideo = result.data;\n                this.setState({\n                    sideVideos: eachVideo\n                })\n\n                if (!videoId) {\n                    const firstVideo = eachVideo[0].id;\n                    videoId = firstVideo;\n                }\n\n                this.setMainVideo(videoId);\n            })\n            .catch (err => {\n                console.log(err);\n            });\n    }\n\n    componentDidUpdate(prevProps) {\n        let videoId = this.props.match.params.id;\n\n        let updateVideoId = this.state.sideVideos[0].id;\n\n        if (prevProps.match.params.id !== videoId) {\n            if (!videoId) {\n                videoId = updateVideoId;\n            }\n            this.setMainVideo(videoId);\n            window.scrollTo(0,0);\n        }\n    }\n\n    render() {\n        let otherVideos = this.state.sideVideos.filter(video => video.id !== this.state.mainVideo.id);\n\n        return (\n            <React.Fragment>\n                <Header />\n                <HomePageMain mainVideo={this.state.mainVideo} sideVideos={otherVideos} handleCommentSubmit={this.handleCommentSubmit} />\n            </React.Fragment>\n        )\n    }\n}\n\nexport default HomePage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}